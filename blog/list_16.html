<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Python,Django,JavaScript,程序员,人生苦短,我用Python" name="keywords">
    <meta content=" Python Django JavaScript 学习讨论,我们是一群热爱Python的程序员，人生苦短，我用JavaScript！一个不会JavaScript的Python开发者不是一个好网管。" name="description">
    <meta content="J.sky" name="author">
    <title>SuiYan 碎言博客  List Pages 第16页</title>
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="./assets/css/pico.min.css">
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="./assets/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <!-- 引入 站点样式 -->
    <link rel="stylesheet" href="./assets/css/custom.css">
    <script src="./assets/js/jquery-3.3.1.min.js"></script>
    
</head>
<body>
<div class="hero" data-theme="dark">
    <nav class="container-fluid"><ul>
    <li><a href="#" class="contrast" onclick="event.preventDefault()">SuiYan</a></li>
</ul>
<ul>
    <li>
        <details role="list" dir="rtl">
            <summary aria-haspopup="listbox" role="link" class="contrast">Theme</summary>
            <ul role="listbox">
                <li><a href="#" data-theme-switcher="auto">Auto</a></li>
                <li><a href="#" data-theme-switcher="light">Light</a></li>
                <li><a href="#" data-theme-switcher="dark">Dark</a></li>
            </ul>
        </details>
    </li>
</ul></nav>
    <head><header class="container">
    <hgroup>
        <img class="avatar" src="./assets/images/touxiang.jpg"/>
        <div>You see see you , This one day day di.</div>
        <ul class="sns-ul">
            
            <li class="sns-li">
                <a href="https://github.com/bosichong/suiyan" target="_blank">
                    <i class="fa fa-github "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://gitee.com/J_Sky/suiyan" target="_blank">
                    <i class="fa fa-git "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://weibo.com/qq285911" target="_blank">
                    <i class="fa fa-weibo "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://user.qzone.qq.com/285911/" target="_blank">
                    <i class="fa fa-qq "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://www.zhihu.com/people/J_sky/activities" target="_blank">
                    <i class="fa fa-book "></i>
                </a>
            </li>
            
        </ul>
    </hgroup>
</header></head>
</div>
<main class="container">
    <div class="grid">
        <section>



<hgroup>
    <h2>如何快速的复习学习过的Python</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2017-11-07 16:19:22</small> Tag:
        
        
        <samll>Python基础</samll>
        
    </h3>
</hgroup>
<p><p>最近老妈骨折住院，在医院护理了有8天，终于回出院回家了。回到家第一件事就是想到之前学习了python，如何快速的复习一下曾经学过的<code>python</code>呢？</p>
<h2>语法/变量/表达式</h2>
<p>也许我们能找到一个小小例子来快速的复习一下基本语法，那么这种例子有很多，比如：打印九九乘法表/斐波那契数列/排序法等等。</p>
<h2>九九乘法表</h2>
<p>快速复习<code>for</code>及<code>print format</code>等函数的用法。</p>
<pre><code>for i in range(1,10):
    for j in range(1,i+1):
        print("{}X{}={}".format(i,j,i*j), end=' ')
    print()
</code></pre>

<h2>一摞<code>Python</code>风格的纸牌</h2>
<p>在看《流畅Python》那本书的时候，第一章第一个小例子非常吸引人，具体代码如下
Python3 扑克牌
<code>collections.namedtuple</code>这个函数可以快速创建一个只有属性的类，我们通过这个方法来创建一张扑克牌的类，rank 和 suit 分别代表牌面数值和花色</p>
<pre><code>import collections
from random import choice
Card = collections.namedtuple('Card',['rank','suit'])
#创建一副扑克牌的类
class Cards:
    ranks = [str(n) for n in range(2,11)] + list('JQKA')#从2-10的数字
    suits = 'spades clubs diamonds clubs'.split()# 黑桃 方块 草花 红桃

    def __init__(self):
        '''创建一副扑克牌'''
        self._cards = [Card(rank,suit) for suit in self.suits
                                       for rank in self.ranks] + ['King','Queen']
    def __len__(self):
        return len(self._cards)
    def __getitem__(self,position):
        return self._cards[position]

deck = Cards()#创建一副扑克牌
print(len(deck))#打印有多少张
#打印所有纸牌
for i in range(len(deck)):
    print(deck[i])
print(choice(deck))#随机抽取一张纸牌
</code></pre>

<p>我觉得这个纸牌的小例子很有意思，复习了类及列表推导等一些小概念。当然快速复习的小例子还有很多的，比如下边的例子</p>
<h2>简单的复利计算</h2>
<pre><code>p = 10000 #初始金额
rate = 0.04/365 #利率 例如余额宝的年化收益为4%，那么每天的这里计算每天的收益
days = 100

day = 1
while day <= days :
    p = p * (1+rate)#复利，余额宝是每天的利滚利
    print('%s天：%2.2f' % (day,p)) #打印当前年份及金额
    day += 1
</code></pre>

<p>通过以上三个小例子，是不是又引起了你对Python的兴趣？温故而知新，大家加油哦！</p>
<h2>本文源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/17python.com/blob/master/ReviewPython.py">github</a></li>
<li><a href="https://gitee.com/J_Sky/17python.com/blob/master/ReviewPython.py">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>python中导入不同目录中的自定义模块/class/函数/方法</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2017-10-27 10:37:17</small> Tag:
        
        
        <samll>Python基础</samll>
        
    </h3>
</hgroup>
<p><p>前几天在封装<code>PY_RPG</code>框架时，需要导入一些自定义的类、函数、常量的时候，发现始终找不到相关模块，后来参考书籍及网络上的一些经验终于解决了这个问题。</p>
<h2>包和模块导入的需求</h2>
<p>假设有一个项目，有a/a.py（此为工具类提供一些简单的方法和常量），b/b.py（需要调用a/a.py）项目文件，我们先在a.py中定义一些函数及常量一会引入使用。</p>
<pre><code>M_TEST = 888
def print_text():
    print('这a.py下的一个打印文字函数')
</code></pre>
<p>现在我们引入测试</p>
<pre><code>import a.a
a.print_text()
</code></pre>
<p>ModuleNotFoundError: No module named 'a'  很显然这样是找不到正确目录的，那么问题来了，
如果是在同一目录，我们直接<code>import a</code>就搞定了，但实际工作中我们不可能把所有文件都放在一个目录中，如果需要导入其它目录的中.py文件，这时我们就需要用到<code>sys.path.append()</code></p>
<pre><code>['/Users/mac/PycharmProjects/PythonStudy/b', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python36.zip', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload', '/Users/mac/Library/Python/3.6/lib/python/site-packages', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/beautifulsoup4-4.6.0-py3.6.egg', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/PyMySQL-0.7.11-py3.6.egg', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/xadmin-0.6.1-py3.6.egg', '/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/django_formtools-2.0-py3.6.egg']
</code></pre>
<p>打印后，我们会发现很多目录，<code>python</code>加载包模块的目录就都在上边了，他会从这些目录中搜索需要加载内容的名称，如果有就加载进来。
那么我们如何把自己的文件加到上边的目录里？有几种方法：</p>
<ul>
<li>通过修改环境变量，这个不环保，而且文件多了，不可能都去修改。</li>
<li>复制文件到上边的目录中，有些不方便，不推荐</li>
<li><code>sys.path.append()</code>把目录加进索引，方便python搜索，推荐</li>
</ul>
<p>那么我们来试试吧</p>
<h2>如何优雅的获得目录地址？</h2>
<p>如果需要把目录加进到索引中，我们只需要一个绝对地址即可，但是这种方法如果我们复制工程到其它目录后，我们还需要修改这个索引，很不方便不科学。
这时我想到了<code>Django</code>配置文件中有一段代码</p>
<pre><code>BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
</code></pre>
<p>我们理解一下这段代码，<code>__file__</code>表示当前.py文件，<code>os.path.abspath(__file__)</code> 表示当前.py文件的绝对地址，<code>dirname</code>获得上一层目录地址，
那么如果我们当前的文件在根目录下的一个目录下边，那么上条语句正好获得了根目录的地址。我们来打印试试</p>
<pre><code>/Users/mac/PycharmProjects/PythonStudy/b/b.py
/Users/mac/PycharmProjects/PythonStudy/b
/Users/mac/PycharmProjects/PythonStudy
</code></pre>
<p>可以看到根目录地址已经得到了，然后通过<code>os.path.join()</code> 就可以拼装到工具类目录地址了，到这里我们的所有功能基本上可以实现了，具体实现请看下边的代码。</p>
<pre><code>import os 
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))#获取根目录
print(os.path.abspath(__file__))
print(os.path.dirname(os.path.abspath(__file__)))
print(BASE_DIR)
T_DIR = os.path.join(BASE_DIR,'a')#拼装工具类地址
print(T_DIR)
sys.path.append(T_DIR)
import a
print(a.M_TEST)
a.print_text()
</code></pre>
<h2>本文源码下载： a b 两个目录下为相关源文件</h2>
<ul>
<li><a href="https://github.com/bosichong/17python.com/">github</a></li>
<li><a href="https://gitee.com/J_Sky/17python.com/">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>基于Python、Tk构建的可视化目录文件同步助手</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2017-10-26 15:04:15</small> Tag:
        
        
        <samll>站长源创</samll>
        
    </h3>
</hgroup>
<p><p>之前用java GUI写过一个简单的目录同步助手，前几天在WIN10下边想用的时候，发现竟然无法使用了，正好最近在学习python，所以用python重写了一简单的目录文件同步助手。</p>
<p><img alt="输入图片说明" src="assets/images/media/upload/2018/01/Snip20180109_24.png" /></p>
<h2>功能需求</h2>
<p>之前有些喜欢拍照，但设备和场景比较多，所以每次照相回来，都为每台设备创建目录，然后在目录下边创建以时间为名的目录进行照片备份。
之后这个备份了几年，后来目录越来越多，经常发现无法准确的判断哪些照片是否备份过，因为实在太多了，所以，需要一个实际目录与备份目录比较，
并且能把比较后的结果复制到备份目录中进行备份。</p>
<h2>需求分析</h2>
<p>从需求上分析：参数需要给定两个目录，然后有比较和复制两个功能，GUI构建上只需要两个目录选择和两个按钮，使用Tk即可实现。
技术上实现采用python的 filecmp shutil os 进行一些目录及文件的比较及复制来实现需求。</p>
<h2>逻辑分析</h2>
<p>通过目录选择框获得了两个字符串，然后进行比较，分析出不同的目录与文件，然后复制到目标目录中。
为此，我创建了一个目录比较类，专门负责比较目录与文件。
此类中的比较方法中使用到了递归，Python中的递归记得最大是1000次，我觉得这个目录层次应该是够了吧？
其实本程序中，目录与文件的分析是重要部分：</p>
<ul>
<li>先判断根目录中不相同的目录与文件，然后分别记录。</li>
<li>如果有相同的目录，使用递归比较这二个相同的目录。</li>
<li>最后分别创建目录，复制文件到目标目录中。</li>
</ul>
<h2>Tk Button传参方法</h2>
<p>在构建GUI的时候，点击按钮激活的函数需要传参数进去，但Python并没有在Button中提供传参的方法，后来查到可以使用lambda</p>
<pre><code>command=lambda: def(参数1, 参数2)
</code></pre>
<p>这样即可达到函数传参的实现。</p>
<h2>目录与文件的操作</h2>
<p>通过这个小软件的制作，达到了对python目录及文件的分析及创建复制的模块功能的复制，功能上还可以继续扩展，后续有需要再继续添加。</p>
<h2>本文源码下载</h2>
<ul>
<li><a href="https://github.com/bosichong/PyDirectoryComparison">github</a></li>
<li><a href="https://gitee.com/J_Sky/PyDirectoryComparison">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>“编学编玩”用Pygame编写游戏（5）pygame绘制一个钟表</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2017-10-23 15:51:11</small> Tag:
        
        
        <samll>pygame</samll>
        
    </h3>
</hgroup>
<p><p>游戏中绘制圆及圆形的轨迹需求还是不少的，而且很多地方都需要用到圆及弧度的理论，如果想做些游戏的话，必须熟练掌握这些基本知识。</p>
<h2>一些知识点</h2>
<ul>
<li>radius 圆的半径</li>
<li>diameter 圆的直径</li>
<li>angle 角度</li>
<li>一个圆的完整的弧度 PI*2=6.28</li>
<li>1弧度的角度值为 360/6.28=57.3248</li>
<li>1度的弧度值为 6.28/360=0.0174</li>
<li>math.degrees(x)将角度x从弧度转换为度。</li>
<li>math.radians(x)将角度x从度转换为弧度。</li>
<li>math.sin(x)返回x弧度的正弦值。</li>
<li>math.cos(x)返回x弧度的余弦值。</li>
</ul>
<h2>圆周上点的坐标</h2>
<pre><code>x = math.cos(math.radians(angle)) * (radius)
y = math.sin(math.radians(angle)) * (radius）
</code></pre>
<p>如果不想深入了解的话，只需要记住，我们需要角度，即可求得圆周上的坐标值，对就上边的函数解释应该可以理解上边的python语句的含意。</p>
<h2>实例</h2>
<p>没有比绘制一个表盘更贴近实际需求的例子了，通过pythondatetime函数，我们可以很方便的获得时间，然后转换成相关数据。</p>
<p>以下为游戏效果图，建议下载相关代码跑一下，有问题可以留言给我。</p>
<p><img alt="输入图片说明" src="assets/images/media/upload/2017/10/Snip20171023_1.png" /></p>
<h2>本文源码下载</h2>
<p>请git clone 下所有代码，以免造成游戏跑不起来的情况。本例源文件pygame05.py</p>
<ul>
<li><a href="https://github.com/bosichong/My_pygame/">github</a></li>
<li><a href="https://gitee.com/J_Sky/My_pygame/">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>



<nav>
    <li><a href="list_15.html" role="button" class="outline">Prev</a></li>
    <li><small>16 / 28</small></li>
    <li><a href="list_17.html" role="button" class="outline">Next</a></li>
</nav>

</section>
        <aside><section>
    <hgroup>
        <h2>Search</h2>
        <h3>Search This SuiYan blog</h3>
    </hgroup>

    <!-- Search -->
    <input type="text" id="search" name="search" placeholder="JavaScript">
    <button>Search</button>

</section>


<nav>
    <ul>
        
        <li>
            <a href="./index.html">
                <i class="fa fa-home"></i>
                Blog Home
            </a>
        </li>
        
        <li>
            <a href="./archives.html">
                <i class="fa fa-archive"></i>
                Blog Archive
            </a>
        </li>
        
        <li>
            <a href="./tags.html">
                <i class="fa fa-tags"></i>
                Blog Tag
            </a>
        </li>
        
        <li>
            <a href="./aboutme.html">
                <i class="fa fa-user"></i>
                About Me
            </a>
        </li>
        
    </ul>
</nav>
</aside>
    </div>

</main>
<section></section>
<footer><div class="container">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    <p><small>
        Powered by
    </small>
        <a href="https://github.com/Jsky2020/suiyan">
            SuiYan
        </a>
       <small> | </small><a href="https://github.com/bosichong">
            J.sky
        </a>
        <small>
            Copyright
            <i aria-hidden="true" class="fa fa-copyright">
            </i>
            2017-2023
        </small>
    </p>
</div></footer>
<!-- Minimal theme switcher -->
<script src="./assets/js/minimal-theme-switcher.js"></script>
<!-- Scroll to Top button selector -->
<a class="to-top"><i class="fa fa-chevron-up fa-3" aria-hidden="true"></i></a>
<script src="./assets/js/jquery.toTop.min.js"></script>
<script>
        jQuery(function($){
            // Plugin activation (basic - with all default values)
            // $('.to-top').toTop();

            // Plugin activation with options
            $('.to-top').toTop({
                //options with default values
                autohide: true,  //boolean 'true' or 'false'
                offset: 420,     //numeric value (as pixels) for scrolling length from top to hide automatically
                speed: 500,      //numeric value (as mili-seconds) for duration
                position:true,   //boolean 'true' or 'false'. Set this 'false' if you want to add custom position with your own css
                right: 15,       //numeric value (as pixels) for position from right. It will work only if the 'position' is set 'true'
                bottom: 30       //numeric value (as pixels) for position from bottom. It will work only if the 'position' is set 'true'
            });
        });

</script>
</body>
</html>