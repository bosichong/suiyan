<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Python,Django,JavaScript,程序员,人生苦短,我用Python" name="keywords">
    <meta content=" Python Django JavaScript 学习讨论,我们是一群热爱Python的程序员，人生苦短，我用JavaScript！一个不会JavaScript的Python开发者不是一个好网管。" name="description">
    <meta content="J.sky" name="author">
    <title>SuiYan 碎言博客 List Pages 第9页</title>
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="./assets/css/pico.min.css">
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="./assets/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <!-- 引入 站点样式 -->
    <link rel="stylesheet" href="./assets/css/custom.css">
    <script src="./assets/js/jquery-3.3.1.min.js"></script>
    
</head>
<body>
<div class="hero" data-theme="dark">
    <nav class="container-fluid"><ul>
    <li><a href="#" class="contrast" onclick="event.preventDefault()">SuiYan</a></li>
</ul>
<ul>
    <li>
        <details role="list" dir="rtl">
            <summary aria-haspopup="listbox" role="link" class="contrast">Theme</summary>
            <ul role="listbox">
                <li><a href="#" data-theme-switcher="auto">Auto</a></li>
                <li><a href="#" data-theme-switcher="light">Light</a></li>
                <li><a href="#" data-theme-switcher="dark">Dark</a></li>
            </ul>
        </details>
    </li>
</ul></nav>
    <head><header class="container">
    <hgroup>
        <img class="avatar" src="./assets/images/touxiang.jpg"/>
        <div>You see see you , This one day day di.</div>
        <ul class="sns-ul">
            
            <li class="sns-li">
                <a href="https://github.com/bosichong/suiyan" target="_blank">
                    <i class="fa fa-github "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://gitee.com/J_Sky/suiyan" target="_blank">
                    <i class="fa fa-git "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://weibo.com/qq285911" target="_blank">
                    <i class="fa fa-weibo "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://user.qzone.qq.com/285911/" target="_blank">
                    <i class="fa fa-qq "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://www.zhihu.com/people/J_sky/activities" target="_blank">
                    <i class="fa fa-book "></i>
                </a>
            </li>
            
        </ul>
    </hgroup>
</header></head>
</div>
<main class="container">
    <div class="grid">
        <section>



<hgroup>
    <h2>Python os.path.dirname(__file__) 在终端命令行下报错</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2018-11-21 22:16:58</small> 标签:
        
        
        <mark>Python基础</mark>
        
    </h3>
</hgroup>
<p><p>最近在写程序中用到了<code>os.path.dirname(__file__)</code>，在PyCharm中启动程序调试的时候，是没有问题的，但是如果在终端命令行下运行程序时就会报错</p>
<pre><code>FileNotFoundError: [Errno 2] No such file or directory
</code></pre>
<p>我们先来测试一下，看看报错是什么样的？</p>
<pre><code>print(os.path.dirname(__file__))
</code></pre>
<p>如果在终端运行当前程序就会报错：</p>
<pre><code>&gt;&gt;&gt; print(os.path.dirname(__file__))
Traceback (most recent call last):
File "&lt;stdin&gt;", line 1, in &lt;module&gt;
NameError: name 'os' is not defined
</code></pre>
<p>如何使之正确运行呢？如果你用过<code>Django</code>，就会想到<code>BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</code>,
这个是<code>Django</code>里用来定义当前文件所属目录的一行代码，后来我查询了一下，其中<code>os.path.abspath(__file__)</code>这条是返回当前文件的绝对地址，
而<code>os.path.dirname(os.path.abspath(__file__))</code>就是返回当前文件所在的目录的绝对地址，这样我们就轻松的得到当前文件所属目录了。
困扰人生的小问题就这样绝对喽！</p>
<h2>本文源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/17python.com/blob/master/io/ospathabspath.py">github</a></li>
<li><a href="https://gitee.com/J_Sky/17python.com/blob/master/io/ospathabspath.py">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>MyDjangoBlog是基于Django搭建的个人blog</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2018-11-20 08:55:16</small> 标签:
        
        
        <mark>站长源创</mark>
        
    </h3>
</hgroup>
<p><p>开心Python Django 学习交流q群：217840699</p>
<p>一个简易易用的blog，基于以下技术构建</p>
<ul>
<li>Python </li>
<li>Django </li>
<li>Amaze UI </li>
<li>SQLite3 </li>
<li>highlight.js </li>
</ul>
<p>后台基于Django admin搭建。</p>
<p>展示如下图，<a href="http://www.17python.com">点击博客</a>查看在线演示效果</p>
<p><img alt="输入图片说明" src="https://images.gitee.com/uploads/images/2018/1116/201630_6f5d34a4_125848.png" title="001.png" /></p>
<p><img alt="输入图片说明" src="https://images.gitee.com/uploads/images/2018/1116/204359_4d1b64ee_125848.png" title="002.png" /></p>
<h1>本地调试</h1>
<p>环境需求：</p>
<p>python (3.6.1)
Django (1.11.3)
Markdown (2.6.8)
Pillow (4.2.1)</p>
<p>进入程序目录后，运行<code>python3 manage.py runserver</code></p>
<p>后台管理地址<code>http://127.0.0.1:8000/admin/</code></p>
<p>管理员登陆:</p>
<p>用户名：<code>admin</code>   密码：<code>17python.com</code></p>
<p>前台地址<code>http://127.0.0.1:8000/</code></p>
<p>如果想在部署到生产环境，<a href="http://www.17python.com/blog/67">请点此查看详细教程</a></p>
<p>欢迎有识之士参与提交代码，大家共同学习共同进步！</p>
<p>开心Python Django 学习交流q群：217840699</p>
<h2>本文源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/www.17python.com">github</a></li>
<li><a href="https://gitee.com/J_Sky/17python">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>Git多人协作（码云）中的一些操作简单记录</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2018-10-28 14:24:15</small> 标签:
        
        
        <mark>Git</mark>
        
    </h3>
</hgroup>
<p><p>最近和一个帅哥共同开发一个小项目，期间需要使用Git协作开发，之前是个人使用Git进行一些简单的提交，与他人Git协作算是头一回，记录下一些操作备查。</p>
<p>我们模拟一个项目的多人Git协作，假设多人合作至少二人，并且添加合作人员进入项目为开发者以上权限。远程代码仓库以码云'gitee.com'为例:</p>
<h2>创建远程代码仓库和本地仓库。</h2>
<ul>
<li>选择码云在线创建代码仓库很方便，我们直接在线创建一个master和dev两条分支（很简单，这里不截图了）。</li>
<li>创建本地代码仓库与远程关联：1.利用'git clone XXXXXXX'下载到本地，即可关联仓库。</li>
<li>但是远端的dev分支并没有下载来，我们新建本地分支dev并进入，然后pull远程分支.<pre><code>➜  test git:(master) git branch 
* master
➜  test git:(master) git checkout -b dev
Switched to a new branch 'dev'
➜  test git:(dev) git pull origin dev   
From https://gitee.com/bosichong/test
* branch            dev        -&gt; FETCH_HEAD
Already up-to-date.
➜  test git:(dev) git branch 
* dev
master
</code></pre>
</li>
</ul>
<p>这样的话我们的本地库与远程代码仓库相关联了。</p>
<h2>如何协作更新代码？</h2>
<p>远程master是主分支，一般由专人负责提交更新版本即可，我们主要是在dev这样的分支上进行更新操作，当程序更新到一定程序后，合并到master中发布一个版本。
模拟一次git协作：
假设需要研发一个人工智能编码器，我和我的小伙们都在进行编码，我在分支aicode仓库中ai.py编写了大量的代码并完成需要上传远程仓库dev。
首先我把aicode分支全并到本地的dev,然后上传到远程dev仓库。</p>
<pre><code>➜  test git:(dev) git checkout -b aicode
Switched to a new branch 'aicode'
➜  test git:(aicode) touch ai.py
➜  test git:(aicode) ✗ vi ai.py 
➜  test git:(aicode) ✗ git add .
➜  test git:(aicode) ✗ git commit -m 'aicode功能更新'
[aicode a1e0b50] aicode功能更新
1 file changed, 2 insertions(+)
create mode 100644 ai.py
➜  test git:(aicode) git checkout dev 
Switched to branch 'dev'
➜  test git:(dev) git merge aicode 
Updating 8fcac3b..a1e0b50
Fast-forward
ai.py | 2 ++
1 file changed, 2 insertions(+)
create mode 100644 ai.py
➜  test git:(dev) git push origin dev  
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 298 bytes | 298.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: Powered by Gitee.com
To https://gitee.com/bosichong/test.git
8fcac3b..a1e0b50  dev -&gt; dev
</code></pre>
<p>这样我就完成了一次更新，其实挺简单的。</p>
<h2>发生冲突怎么办？</h2>
<p>有一次我和我的小伙伴都在更新readme.md，他负责前半部我负责后半部分，但是他明显比我快，先进行了版本提交，而我刚刚弄完，现在要提交了，当我提交dev分支到远程的时候终端提示如下：</p>
<pre><code>To https://gitee.com/bosichong/test.git
! [rejected]        dev -&gt; dev (fetch first)
error: failed to push some refs to 'https://gitee.com/bosichong/test.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
</code></pre>
<p>大体意思是：远程的版本比你现在的要新，你需要先下载更新一下，然后再提交。好吧，我先更新一下dev版本，pull下来。
然后再pull的时候提示如下：</p>
<pre><code>* branch            dev        -&gt; FETCH_HEAD
99ccc9c..4c49e33  dev        -&gt; origin/dev
Auto-merging README.md
CONFLICT (content): Merge conflict in README.md
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>大体意思是文件已经pull下来了，但是两个文件有冲突，必须先处理冲突，并告诉你冲突文件是readme.md。
我们解决一下文件中的冲突内容：</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
我更新的下半部分啊
=======
小伙伴更新的上半部分
&gt;&gt;&gt;&gt;&gt;&gt;&gt; 4c49e33af00dd498b2d4761d3fc607ee29afbdf4
</code></pre>
<p>这里我这样的修改的：</p>
<pre><code>小伙伴更新的上半部分
我更新的下半部分啊
</code></pre>
<p>处理解决后，就可以提交更新dev到远程的仓库了。从此以后就可以和小伙伴们开心的编码了。</p>
<p>遇到问题：
1.今天小伙伴更新dev分支，但我怎么也pull不来，提示如下：</p>
<pre><code>Updating e32f487..204c0a1
error: Your local changes to the following files would be overwritten by merge:
    Psmrcddup.py
Please commit your changes or stash them before you merge.
</code></pre>
<p>解决方法：</p>
<pre><code>➜  PrimarySchoolMath git:(dev) ✗ git checkout -f
➜  PrimarySchoolMath git:(dev) git pull gitee dev
</code></pre>
<h2>分支策略</h2>
<p>在实际开发中，我们应该按照几个基本原则进行分支管理：</p>
<p>首先，master分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；</p>
<p>那在哪干活呢？干活都从dev分支再创建一条分支在开工，完成后，再合并到本地dev并更新到远端dev，也就是说，dev分支是不稳定的，到某个时候，比如1.0版本发布时，再把dev分支合并到master上，在master分支发布1.0版本。</p>
<p>你和你的小伙伴们每个人都在dev分支上干活，每个人都有自己的分支，时不时地往dev分支上合并就可以了。</p>
<p>所以，团队合作的分支看起来就像这样：</p>
<p><img alt="输入图片说明" src="assets/images/media/upload/2018/10/0.png" /></p>
<p>一些常用协作git命令：</p>
<pre><code>查看分支：git branch
创建分支：git branch &lt;name&gt;
切换分支：git checkout &lt;name&gt;
创建+切换分支：git checkout -b &lt;name&gt;
合并某分支到当前分支：git merge &lt;name&gt;
删除分支：git branch -d &lt;name&gt;
git remote 显示 远程仓库的分支
git remote -v 显示更详细的信息：
</code></pre>
<h2>相关文章</h2>
<ul>
<li><a href="https://github.com/bosichong/PrimarySchoolMathematics">廖雪峰：git多人协作</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>利用Python自动生成小学生加减乘除口算考试题卷。</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2018-10-24 10:50:04</small> 标签:
        
        
        <mark>站长源创</mark>
        
    </h3>
</hgroup>
<p><p>孩子上小学一年级了，加减乘除的口算就要开始练习了，估计老师肯定会让家长出题，所以提前准备一下，利用Python开发了一套自动生成小学生口算题的小应用。而且今天是程序员节，撸200行代码庆祝一下。：）</p>
<p>为了让程序员老爹解放抄题的双手，让你拥有更多的时间去写代码而不用去手写几道口算题而伤神伤脑。所以有没有娃子的程序员爹爹加入一起来继续优化个开源小程序的？有什么点子，发现什么BUG，欢迎留言。</p>
<p>仅以此软件，献给那些热爱<code>Python</code>的程序员老爹们！</p>
<p>程序核心功能：</p>
<p>1.可以设置各算数项和结果的取值范围及多步算数符号的选择，可以生成求结果、求算数项、带括号的算式，最多支持3步算式题</p>
<p>2.可以简单设置文档标题，小标题。设置生成的口算题文档个数</p>
<p>使用方法：</p>
<p>1 确定本机支持python3.6.1以上版本</p>
<p>2 安装.docx模块,安装wxPython模块 安装方法：</p>
<p><code>pip3 install python-docx</code></p>
<p><code>pip3 install wxpython</code></p>
<p>3 下载程序进入主目录，终端下运行<code>python App.py</code></p>
<p>4 修改运算项和结果范围里的数值,多步运算请添加修改需要的运算符号:</p>
<p>5 添加口算题到列表中，然后生成口算题,生成的口算题文件都在docx文件目录下，打开后连接打印机就可以开印了。</p>
<h2>源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/PrimarySchoolMathematics">github</a></li>
<li><a href="https://gitee.com/J_Sky/PrimarySchoolMathematics">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>有时人生需要做出选择</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2018-06-12 10:05:40</small> 标签:
        
        
        <mark>站长吐槽</mark>
        
    </h3>
</hgroup>
<p><p>好久没有更新自己的博客了，最近经历了很多变动，所以人生的规划也发生了一些微妙的变化。</p>
<p>这段日子没怎么看编程相关的书，今天随便看了一下，python已经是3.6.5，django也是2.0.6的版本了，想想自己前一阵学习py及django的时候，机器上的环境还是3.61和1.1X版.。。。</p>
<p>更新了一下站点的头部图片，上次更新时还是冬天的。。。。</p>
<p>可能暂时要放下编程了，是放下不是放弃，不久的以后我还会捡起来，因为我还有一个做游戏的梦想还未实现。想起30岁的时候开始学习编程，40而终，这些年没做成什么太出色的软件，但也因为代码养家糊了口饭，想想也算是值了，人生总是再变动，曾经看到过一篇文章介绍过，程序员黑客和画家很相似，所以那天拿起笔来就画了几个月感觉还不错，我能否再用10年成就一个插画师的梦想？</p>
<p>为自己加油！</p>
<p>感谢曾经路过17python网友，这个站点暂时还不会关闭，但内容也许有些改变，python还会继续，但可能会慢了一些，但我还会在学习python的路上前进的。</p></p>


<hr>
<br>



<nav>
    <li><a href="list_8.html" role="button" class="outline">Prev</a></li>
    <li><small>9 / 23</small></li>
    <li><a href="list_10.html" role="button" class="outline">Next</a></li>
</nav>

</section>
        <aside>

<nav>
    <ul>
        
        <li>
            <a href="./index.html">
                <i class="fa fa-home"></i>
                Blog Home
            </a>
        </li>
        
        <li>
            <a href="./archives.html">
                <i class="fa fa-archive"></i>
                Blog Archive
            </a>
        </li>
        
        <li>
            <a href="./tags.html">
                <i class="fa fa-tags"></i>
                Blog Tag
            </a>
        </li>
        
        <li>
            <a href="./aboutme.html">
                <i class="fa fa-user"></i>
                About Me
            </a>
        </li>
        
    </ul>
</nav>
</aside>
    </div>

</main>
<section><div class="container">
    <article>
        <hgroup>
            <h2>Search</h2>
            <h3>Search This SuiYan blog</h3>
        </hgroup>

            <!-- Search -->
            <input type="text" id="search" name="search" placeholder="Search">
            <button>Search</button>

    </article>
</div></section>
<footer><div class="container">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    <p><small>
        Powered by
    </small>
        <a href="https://github.com/Jsky2020/suiyan">
            SuiYan
        </a>
       <small> | </small><a href="https://github.com/bosichong">
            J.sky
        </a>
        <small>
            Copyright
            <i aria-hidden="true" class="fa fa-copyright">
            </i>
            2017-2023
        </small>
    </p>
</div></footer>
<!-- Minimal theme switcher -->
<script src="./assets/js/minimal-theme-switcher.js"></script>
<!-- Scroll to Top button selector -->
<a class="to-top"><i class="fa fa-chevron-up fa-3" aria-hidden="true"></i></a>
<script src="./assets/js/jquery.toTop.min.js"></script>
<script>
        jQuery(function($){
            // Plugin activation (basic - with all default values)
            // $('.to-top').toTop();

            // Plugin activation with options
            $('.to-top').toTop({
                //options with default values
                autohide: true,  //boolean 'true' or 'false'
                offset: 420,     //numeric value (as pixels) for scrolling length from top to hide automatically
                speed: 500,      //numeric value (as mili-seconds) for duration
                position:true,   //boolean 'true' or 'false'. Set this 'false' if you want to add custom position with your own css
                right: 15,       //numeric value (as pixels) for position from right. It will work only if the 'position' is set 'true'
                bottom: 30       //numeric value (as pixels) for position from bottom. It will work only if the 'position' is set 'true'
            });
        });

</script>
</body>
</html>